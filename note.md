# 改修
- バージョンは最新を利用
- 足りない定義情報を追加する
- ノードのblockchainをDBなどに保存できるようにする
    - 現状はオンメモリのdictオブジェクト
- ディレクトリの整理
    - 現状は殆どが単一ファイルに入っているのでこれを修正する
    -
## メモ
- nonce
    - Blockが正しいことを証明するために用いる値
        - アルゴリズムで求めるため後から検証が可能
    - コンセンサスアルゴリズムを用いて導出する
        - challenge 1 + prev hash + transactionをnonceとする
        - 上記を足し合わせた値のhash値の上位任意桁が0になるまでchallengeの値を変えて試し続ける
        - 当然任意の桁数を増やせばそれだけnonceを求めるのが難しくなる(ディフィカルティ)
        - この講義では3桁, 代替10分くらいで求まる想定

- 暗号化
    - 通常の公開鍵モデルではなく、トランザクションを含めたアルゴリズムで暗号化する
    - ブロックチェーンノードに対しては公開鍵、上記アルゴリズムで生成したシグネチャ、トランザクションを渡す
    - ブロックチェーンノード側では受け取った情報をもとにシグネチャが正しいかを検証し問題なければ承認する
    - 公開鍵と秘密鍵はECDSAを使用して生成する(NIST256p)

    - bitcoinの場合のブロックチェーンアドレスを生成する方法
    1. ECDSAを使用して秘密鍵を生成
    2. SHA-256で公開鍵を生成
    3. Ripemd160を使用してSHA-256をハッシュか
    4. ネットワークバイトを追加する(これはbitcoinの仕様によるもの)
    5. SHA-256で２重にハッシュ化する
    6. チェックサムを取得
    7. 公開鍵とチェックサムを連結
    8. キーをbase58でエンコード

